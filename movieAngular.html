<!DOCTYPE html>
<html lang="en" ng-app="mainApp">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS_Angular</title>
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

    <script type="text/javascript" src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/js/materialize.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular-materialize/0.2.2/angular-materialize.min.js"></script>

</head>
<body>
    <div class="container" ng-controller="PagerController">

        <h2 class="center-align">My Movie Finder</h2>

        <!-- start search form -->
        <div class="row grey lighten-4 valign-wrapper">
            <form class="col s12">

              <h4 class="center-align">Search:</h4>

              <div class="row valign-wrapper">
                <div class="input-field col s6 offset-s3 center-align">
                  <i class="material-icons prefix">movie</i>
                  <textarea id="search-textarea" class="materialize-textarea" ng-model="searchTextarea"></textarea>
                  <label for="search-textarea">Title</label>
                </div>
              </div>

              <div class="row valign-wrapper">
                <div class="input-field col s6 offset-s3">
                    <select id="type-select" ng-model="movieType">
                      <option value="" disabled selected>Choose type</option>
                      <option value="movie">Movie</option>
                      <option value="series">Series</option>
                      <option value="episode">Episode</option>
                    </select>
                    <label>Type:</label>
                  </div>
              </div>

              <div class="row valign-wrapper">
                <div class="col s12 center-align">              
                    <button ng-click="searchBtnClick()" type="submit" class="btn" id="search-btn">
                        <i class="material-icons left">search</i>
                        search
                    </button>
                  </div>
              </div>

            </form>
        </div>
  
        <!-- search results div -->
        <div class="center-align" ng-if="findedMovies.Response">
          <div class="row">
            <div class='col s12' ng-if="findedMovies.Response == 'False'">
               <h3 class='center-align'>Nothing was found!</h3>
            </div>
            <div class='col s12' ng-if="findedMovies.Response">

              <div class="card large col s12 m4" ng-repeat="movie in findedMovies.Search">
                  <div class="card-image waves-effect waves-block waves-light">
                      <img class='activator' ng-src="{{movie.Poster}}" alt="poster">
                  </div>
                  <div class='card-content'>
                      <span class='card-title activator grey-text text-darken-4 truncate'>
                          <span id="movieTitle">{{movie.Title}}</span>
                          <span class='badge' data-badge-caption='{{movie.Type}}'></span>
                      </span>
                      <br>
                      <p>
                          <button type='submit' ng-click="detailsBtnClick(movie.Title)" class='btn waves-effect waves-light' name='detail-btn'>details</button>
                          <span class='badge'>{{movie.Year}}</span>
                      </p>
                   </div>
                </div>
             </div>  
          </div>
          <!-- pagination -->
          <paging-control paging-size="pagingSize" noofitem="dataPerPage" total-items="totalItems" display-items="displayItems" search-name="searchName" search-type="searchType" number-of-items="numberOfItems" finded-movies="findedMovies"></paging-control>
        </div>

        <!-- movie details zone -->
        <div class="center-align" ng-if="movieDetails.Response">
          <div class="row">

            <div class='col s12'>

              <h6 class="center-align">Film info</h6>
  
              <div class='col s5'>
                <img ng-src="{{movieDetails.Poster}}" alt='Poster' class='responsive-img'>
              </div>
       
              <div class='col s7'>
                <table>
                  <tbody>
      
                    <tr>
                      <td><b>Title:</b></td>
                      <td>{{movieDetails.Title}}</td>
                    </tr>

                    <tr>
                      <td><b>Released:</b></td>
                      <td>{{movieDetails.Released}}</td>
                    </tr>
      
                    <tr>
                      <td><b>Genre:</b></td>
                      <td>{{movieDetails.Genre}}</td>
                    </tr>

                    <tr>
                      <td><b>Country:</b></td>
                      <td>{{movieDetails.Country}}</td>
                    </tr>

                    <tr>
                      <td><b>Director:</b></td>
                      <td>{{movieDetails.Director}}</td>
                    </tr>

                    <tr>
                      <td><b>Writer:</b></td>
                      <td>{{movieDetails.Writer}}</td>
                    </tr>

                    <tr>
                      <td><b>Actors:</b></td>
                      <td>{{movieDetails.Actors}}</td>
                    </tr>

                    <tr>
                      <td><b>Awards:</b></td>
                      <td>{{movieDetails.Awards}}</td>
                    </tr>
      
                  </tbody>
                </table>
              </div>

            </div>
          </div>

        </div>

     <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="movieAngularScript.js"></script>      
</body>
</html>